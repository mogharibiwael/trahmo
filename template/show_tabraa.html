{%extends 'base2.html'%}
{% load mathfilters %}
{%load static%}
{%load widget_tweaks%}
{%block title%}login{%endblock%}
{%block username%}wael{%endblock%}
{%block brecumb%}
لوحة التحكم
{%endblock%}
{%block content%}

   <div class=" mt-5 " >

    <div class="main-content p-5" style="background-color: rgb(255, 255, 255) !important;" dir="rtl">
       <div class="row  justify-content-between">
        <div class="col-md-6" >
            <canvas width="900px" id="myChart"></canvas>
            <h2 class=" text-center  text-white p-3" style="margin-top: 130px;background-color: darkgrey;">احصائيات عامة</h2>

          </div>
          <div class="col-md-5 " style="width:400px !important;height: 300px;">
            <canvas style="margin-bottom: 60px;" id="myChart2" width="300px"></canvas>
            <h2 class="mt-3 text-center  text-white p-3" style="background-color: darkgrey;">احصائيات حالات التبرع</h2>
          </div>
         
       </div>
       <div style="height: 80px; "></div>

        <div style="background-color: #e8e8e8 !important; padding: 10px;border-radius: 10px;">
          <h2 class="mt-3 text-center  text-gt=reen p-3" > عمليات تبرع حديثة</h2>

            <table class="table align-middle mb-0" style="margin-top: 30px !important;">
                <thead class="bg-light">
                  <tr >
                    <th>الاسم</th>
                    <th>المستفيد</th>
                    <th>المبلغ</th>
                    <th>المتبقي</th>
                    <th>المدفوع</th>
                  </tr>
                </thead>
                <tbody>
                  {%for tabraa in tabrat %}
                  <tr  style="color: #000;">
                    <td>
                      <div class="d-flex align-items-center">
                        <div class="ms-3">
                          <p class="fw-bold mb-1">{{tabraa.state.name}}</p>
                        </div>
                      </div>
                    </td>
                    <td>
                      <p class="fw-normal mb-1">{{tabraa.benficiary.name}}</p>
                    </td>
                    <td>
                        <span class="badge bg-danger " style="font-size: 15px;">{{tabraa.state.amount}}</span>
                    </td>
                    <td>
                        <span class="badge bg-warning " style="font-size: 15px;">
                               {{ tabraa.state.amount|sub:tabraa.paid }}</span>
    
                    </td>
                    <td>
                        <span class="badge bg-success " style="font-size: 15px;">{{tabraa.paid}}</span>
    
                    </td>
                   
                  </tr>
                  {%endfor%}
                </tbody>
              </table>
        </div>
          </div>
   </div>

   <script >
const ctx = document.getElementById('myChart');
const ctx2 = document.getElementById('myChart2');
// <block:setup:1>
    new Chart(ctx, {
    type: 'bar',
    data: {
      labels: ['المتبرعين', 'المستفيدين', 'الزائرين', 'الحالات'],
      datasets: [{
        label: 'احصائيات عامة',
        data: [1, 19, 3, 5, 2, 3],
        backgroundColor: [
      'rgba(255, 99, 132, 0.2)',
      'rgba(255, 159, 64, 0.2)',
      'rgba(255, 205, 86, 0.2)',
      'rgba(75, 192, 192, 0.2)',
      'rgba(54, 162, 235, 0.2)',
      'rgba(153, 102, 255, 0.2)',
      'rgba(201, 203, 207, 0.2)'
    ],
    borderColor: [
      'rgb(255, 99, 132)',
      'rgb(255, 159, 64)',
      'rgb(255, 205, 86)',
      'rgb(75, 192, 192)',
      'rgb(54, 162, 235)',
      'rgb(153, 102, 255)',
      'rgb(201, 203, 207)'
    ],
        borderWidth: 2,
        
        
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  });
// </block:config>


new Chart(ctx2, {
    type: 'doughnut',

data : {
  labels: [
    'المكتملة',
    'الغير مكتمله',
    'الملغية'
  ],
  datasets: [{
    label: 'احصائيات اجمالي التبرعات',
    data: [300, 50, 100],
    backgroundColor: [
      'rgb(92, 184, 92)',
      'rgb(240, 173, 78)',
      'rgb(217, 83, 79)'
    ],
    hoverOffset: 4
  }]
},

options: {
   }
  });
// </block:config>




   </script>

{%endblock%}